---
sidebar: sidebar 
permalink: task-deploying-gcp.html 
keywords: Cloud Volumes ONTAP, deploying, launching, creating, deploy, launch, create,  license key, serial number, location, license, preconfigured packages, programmatic deployments, disk size, write speed, access control, volume protection, usage profile, register, CIFS share, quota, qtree, HA, high-availability, google cloud ha, ha in google cloud, ha pair, cloud backup, cloud tiering 
summary: Google Cloud Platform에서 단일 시스템 구성이나 HA 쌍으로 Cloud Volumes ONTAP 실행할 수 있습니다. 
---
= Google Cloud에서 Cloud Volumes ONTAP 실행
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Google Cloud에서 단일 노드 구성이나 HA 쌍으로 Cloud Volumes ONTAP 실행할 수 있습니다.



== 시작하기 전에

시작하기 전에 다음 사항이 필요합니다.

[[licensing]]
* 이미 실행 중인 콘솔 에이전트입니다.
+
** 당신은 ~을 가져야합니다 https://docs.netapp.com/us-en/bluexp-setup-admin/task-quick-start-connector-google.html["시스템과 연결된 콘솔 에이전트"^] .
** https://docs.netapp.com/us-en/bluexp-setup-admin/concept-connectors.html["항상 콘솔 에이전트를 실행 상태로 두어야 합니다."^] .
** 콘솔 에이전트와 연결된 서비스 계정 https://docs.netapp.com/us-en/bluexp-setup-admin/reference-permissions-gcp.html["필요한 권한이 있어야 합니다"^]


* 사용하려는 구성에 대한 이해.
+
구성을 선택하고 관리자로부터 Google Cloud 네트워킹 정보를 얻어서 준비해야 합니다. 자세한 내용은 다음을 참조하세요.link:task-planning-your-config-gcp.html["Cloud Volumes ONTAP 구성 계획"] .

* Cloud Volumes ONTAP 에 대한 라이선싱을 설정하는 데 필요한 사항에 대한 이해.
+
link:task-set-up-licensing-google.html["라이선싱 설정 방법 알아보기"] .

* Google Cloud API는 다음과 같아야 합니다. https://cloud.google.com/apis/docs/getting-started#enabling_apis["프로젝트에서 활성화됨"^] :
+
** 클라우드 배포 관리자 V2 API
** 클라우드 로깅 API
** 클라우드 리소스 관리자 API
** 컴퓨트 엔진 API
** ID 및 액세스 관리(IAM) API






== Google Cloud에서 단일 노드 시스템 출시

NetApp Console 에서 시스템을 만들어 Google Cloud에서 Cloud Volumes ONTAP 시작합니다.

.단계
. 왼쪽 탐색 메뉴에서 *저장소 > 관리*를 선택합니다.
. [[구독]]*시스템* 페이지에서 *시스템 추가*를 클릭하고 안내를 따르세요.
. *위치 선택*: *Google Cloud*와 * Cloud Volumes ONTAP*을 선택하세요.
. 메시지가 표시되면 https://docs.netapp.com/us-en/bluexp-setup-admin/task-quick-start-connector-google.html["콘솔 에이전트 생성"^] .
. *세부 정보 및 자격 증명*: 프로젝트를 선택하고, 클러스터 이름을 지정하고, 선택적으로 서비스 계정을 선택하고, 선택적으로 레이블을 추가한 다음 자격 증명을 지정합니다.
+
다음 표에서는 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="25,75"]
|===
| 필드 | 설명 


| 시스템 이름 | 콘솔은 시스템 이름을 사용하여 Cloud Volumes ONTAP 시스템과 Google Cloud VM 인스턴스의 이름을 지정합니다.  해당 옵션을 선택하면 사전 정의된 보안 그룹의 접두사로도 이름이 사용됩니다. 


| 서비스 계정 이름 | 사용할 계획이라면link:concept-data-tiering.html["데이터 계층화"] 또는 https://docs.netapp.com/us-en/bluexp-backup-recovery/concept-backup-to-cloud.html["NetApp Backup and Recovery"^] Cloud Volumes ONTAP 사용하는 경우 *서비스 계정*을 활성화하고 사전 정의된 스토리지 관리자 역할이 있는 서비스 계정을 선택해야 합니다. link:task-creating-gcp-service-account.html["서비스 계정을 만드는 방법을 알아보세요"^] . 


| 라벨 추가 | 라벨은 Google Cloud 리소스에 대한 메타데이터입니다.  콘솔은 Cloud Volumes ONTAP 시스템 및 해당 시스템과 연결된 Google Cloud 리소스에 레이블을 추가합니다.  시스템을 생성할 때 사용자 인터페이스에서 최대 4개의 라벨을 추가할 수 있으며, 시스템을 생성한 후에 라벨을 더 추가할 수 있습니다.  API는 시스템을 생성할 때 레이블을 4개로 제한하지 않습니다.  라벨에 대한 정보는 다음을 참조하세요. https://cloud.google.com/compute/docs/labeling-resources["Google Cloud 문서: 리소스 레이블 지정"^] . 


| 사용자 이름과 비밀번호 | 이는 Cloud Volumes ONTAP 클러스터 관리자 계정의 자격 증명입니다.  이러한 자격 증명을 사용하면 ONTAP System Manager나 ONTAP CLI를 통해 Cloud Volumes ONTAP 에 연결할 수 있습니다.  기본 _admin_ 사용자 이름을 유지하거나 사용자 지정 사용자 이름으로 변경하세요. 


| 프로젝트 편집  a| 
Cloud Volumes ONTAP 저장할 프로젝트를 선택하세요.  기본 프로젝트는 콘솔의 프로젝트입니다.

드롭다운 목록에 추가 프로젝트가 보이지 않으면 아직 서비스 계정을 다른 프로젝트와 연결하지 않은 것입니다. Google Cloud 콘솔로 이동하여 IAM 서비스를 열고 프로젝트를 선택합니다.  콘솔에 사용하는 역할이 있는 서비스 계정을 해당 프로젝트에 추가합니다. 각 프로젝트마다 이 단계를 반복해야 합니다.


NOTE: 이는 콘솔에 대해 설정한 서비스 계정입니다.link:https://docs.netapp.com/us-en/bluexp-setup-admin/task-quick-start-connector-google.html["이 페이지에 설명된 대로"^] .

*구독 추가*를 클릭하여 선택한 자격 증명을 구독과 연결합니다.

사용량에 따라 요금을 지불하는 Cloud Volumes ONTAP 시스템을 만들려면 Google Cloud 마켓플레이스에서 Cloud Volumes ONTAP 구독과 연결된 Google Cloud 프로젝트를 선택해야 합니다. 참조하다 https://docs.netapp.com/us-en/bluexp-setup-admin/task-adding-gcp-accounts.html["Google Cloud 자격 증명과 마켓플레이스 구독 연결"^] .

|===
. *서비스*: 이 시스템에서 사용할 서비스를 선택하세요.  백업 및 복구를 선택하거나 NetApp Cloud Tiering 사용하려면 3단계에서 서비스 계정을 지정해야 합니다.
+

TIP: WORM 및 데이터 계층화를 활용하려면 백업 및 복구를 비활성화하고 버전 9.8 이상의 Cloud Volumes ONTAP 시스템을 배포해야 합니다.

. *위치 및 연결*: 위치를 선택하고, 방화벽 정책을 선택하고, 데이터 계층화를 위해 Google Cloud Storage에 대한 네트워크 연결을 확인하세요.
+
다음 표에서는 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="25,75"]
|===
| 필드 | 설명 


| 연결성 검증 | 콜드 데이터를 Google Cloud Storage 버킷에 계층화하려면 Cloud Volumes ONTAP 이 있는 서브넷을 비공개 Google 액세스로 구성해야 합니다.  지침은 다음을 참조하세요. https://cloud.google.com/vpc/docs/configure-private-google-access["Google Cloud 문서: 비공개 Google 액세스 구성"^] . 


| 생성된 방화벽 정책  a| 
콘솔에서 방화벽 정책을 생성하도록 하는 경우 트래픽 허용 방법을 선택해야 합니다.

** *선택한 VPC만*을 선택하는 경우 인바운드 트래픽의 소스 필터는 선택한 VPC의 서브넷 범위와 콘솔 에이전트가 있는 VPC의 서브넷 범위입니다.  이것은 권장되는 옵션입니다.
** *모든 VPC*를 선택하는 경우 인바운드 트래픽의 소스 필터는 0.0.0.0/0 IP 범위입니다.




| 기존 방화벽 정책 사용 | 기존 방화벽 정책을 사용하는 경우 필수 규칙이 포함되어 있는지 확인하세요.link:reference-networking-gcp.html#firewall-rules["Cloud Volumes ONTAP 의 방화벽 규칙에 대해 알아보세요"] 
|===
. *청구 방법 및 NSS 계정*: 이 시스템에서 사용할 청구 옵션을 지정한 다음 NetApp 지원 사이트 계정을 지정하세요.
+
** link:concept-licensing.html["Cloud Volumes ONTAP 에 대한 라이선싱 옵션에 대해 알아보세요"^]
** link:task-set-up-licensing-google.html["라이선싱 설정 방법 알아보기"^]


. *사전 구성된 패키지*: Cloud Volumes ONTAP 시스템을 빠르게 배포하려면 패키지 중 하나를 선택하거나 *내 구성 만들기*를 클릭하세요.
+
패키지 중 하나를 선택하는 경우 볼륨만 지정하고 구성을 검토하여 승인하기만 하면 됩니다.

. *라이선스*: 필요에 따라 Cloud Volumes ONTAP 버전을 변경하고 머신 유형을 선택합니다.
+

NOTE: 선택한 버전에 대해 최신 릴리스 후보, 일반 공급 또는 패치 릴리스가 제공되는 경우 콘솔은 버전을 생성할 때 시스템을 해당 버전으로 업데이트합니다.  예를 들어, Cloud Volumes ONTAP 9.13.1을 선택하고 9.13.1 P4를 사용할 수 있는 경우 업데이트가 발생합니다.  업데이트는 한 릴리스에서 다른 릴리스로 전달되지 않습니다. 예를 들어, 9.13에서 9.14로 전달되지 않습니다.

. *기본 스토리지 리소스*: 초기 집계에 대한 설정을 선택합니다. 디스크 유형과 각 디스크의 크기입니다.
+
디스크 유형은 초기 볼륨을 위한 것입니다.  이후 볼륨에는 다른 디스크 유형을 선택할 수 있습니다.

+
디스크 크기는 초기 집계의 모든 디스크와 간단한 프로비저닝 옵션을 사용할 때 콘솔이 생성하는 모든 추가 집계에 적용됩니다.  고급 할당 옵션을 사용하면 다른 디스크 크기를 사용하는 집계를 만들 수 있습니다.

+
디스크 유형 및 크기 선택에 대한 도움말은 다음을 참조하세요.link:task-planning-your-config-gcp.html#size-your-system-in-gcp["Google Cloud에서 시스템 크기 조정"^] .

. *플래시 캐시, 쓰기 속도 및 WORM*:
+
.. 원하는 경우 *플래시 캐시*를 활성화하세요.
+

NOTE: Cloud Volumes ONTAP 9.13.1부터 _Flash Cache_는 n2-standard-16, n2-standard-32, n2-standard-48 및 n2-standard-64 인스턴스 유형에서 지원됩니다.  배포 후에는 Flash Cache를 비활성화할 수 없습니다.

.. 원하는 경우 *보통* 또는 *높음* 쓰기 속도를 선택하세요.
+
link:concept-write-speed.html["쓰기 속도에 대해 자세히 알아보세요"] .

+

NOTE: *높은* 쓰기 속도 옵션을 통해 높은 쓰기 속도와 8,896바이트의 더 높은 최대 전송 단위(MTU)를 사용할 수 있습니다.  또한, 8,896의 더 높은 MTU는 배포를 위해 VPC-1, VPC-2, VPC-3을 선택해야 합니다.  VPC-1, VPC-2 및 VPC-3에 대한 자세한 내용은 다음을 참조하세요. https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/reference-networking-gcp.html#requirements-for-the-connector["VPC-1, VPC-2 및 VPC-3에 대한 규칙"^] .

.. 원하는 경우 WORM(한 번 쓰고 여러 번 읽기) 저장소를 활성화합니다.
+
Cloud Volumes ONTAP 버전 9.7 이하에서 데이터 계층화가 활성화된 경우 WORM을 활성화할 수 없습니다.  WORM 및 계층화를 활성화한 후에는 Cloud Volumes ONTAP 9.8로 되돌리거나 다운그레이드하는 것이 차단됩니다.

+
link:concept-worm.html["WORM 스토리지에 대해 자세히 알아보세요"^] .

.. WORM 저장소를 활성화하는 경우 보존 기간을 선택하세요.


. *Google Cloud Platform의 데이터 계층화*: 초기 집계에서 데이터 계층화를 활성화할지 여부를 선택하고, 계층화된 데이터에 대한 스토리지 클래스를 선택한 다음, 사전 정의된 스토리지 관리자 역할( Cloud Volumes ONTAP 9.7 이상에 필요)이 있는 서비스 계정을 선택하거나, Google Cloud 계정( Cloud Volumes ONTAP 9.6에 필요)을 선택합니다.
+
다음 사항에 유의하세요.

+
** 콘솔은 Cloud Volumes ONTAP 인스턴스에 서비스 계정을 설정합니다. 이 서비스 계정은 Google Cloud Storage 버킷에 대한 데이터 계층화 권한을 제공합니다.  계층화 서비스 계정의 사용자로 콘솔 에이전트 서비스 계정을 반드시 추가해야 합니다. 그렇지 않으면 콘솔에서 해당 계정을 선택할 수 없습니다.
** Google Cloud 계정 추가에 대한 도움말은 다음을 참조하세요. https://docs.netapp.com/us-en/bluexp-setup-admin/task-adding-gcp-accounts.html["9.6을 사용하여 데이터 계층화를 위한 Google Cloud 계정 설정 및 추가"^] .
** 볼륨을 생성하거나 편집할 때 특정 볼륨 계층화 정책을 선택할 수 있습니다.
** 데이터 계층화를 비활성화하면 이후 집계에서 활성화할 수 있지만, 시스템을 끄고 Google Cloud 콘솔에서 서비스 계정을 추가해야 합니다.
+
link:concept-data-tiering.html["데이터 계층화에 대해 자세히 알아보세요"^] .



. *볼륨 만들기*: 새 볼륨에 대한 세부 정보를 입력하거나 *건너뛰기*를 클릭합니다.
+
link:concept-client-protocols.html["지원되는 클라이언트 프로토콜 및 버전에 대해 알아보세요"^] .

+
이 페이지의 일부 필드는 설명이 필요 없습니다.  다음 표에서는 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="25,75"]
|===
| 필드 | 설명 


| 크기 | 입력할 수 있는 최대 크기는 씬 프로비저닝을 활성화하는지 여부에 따라 크게 달라집니다. 씬 프로비저닝을 활성화하면 현재 사용 가능한 물리적 저장소보다 큰 볼륨을 만들 수 있습니다. 


| 액세스 제어(NFS에만 해당) | 내보내기 정책은 볼륨에 액세스할 수 있는 서브넷의 클라이언트를 정의합니다. 기본적으로 콘솔은 서브넷의 모든 인스턴스에 대한 액세스를 제공하는 값을 입력합니다. 


| 권한 및 사용자/그룹(CIFS에만 해당) | 이러한 필드를 사용하면 사용자 및 그룹의 공유 액세스 수준(액세스 제어 목록 또는 ACL이라고도 함)을 제어할 수 있습니다. 로컬 또는 도메인 Windows 사용자나 그룹, 또는 UNIX 사용자나 그룹을 지정할 수 있습니다. 도메인 Windows 사용자 이름을 지정하는 경우 domain\username 형식을 사용하여 사용자 도메인을 포함해야 합니다. 


| 스냅샷 정책 | 스냅샷 복사 정책은 NetApp 스냅샷 복사본이 자동으로 생성되는 빈도와 수를 지정합니다. NetApp 스냅샷 복사본은 성능에 영향을 미치지 않고 최소한의 저장 공간만 필요한 특정 시점의 파일 시스템 이미지입니다. 기본 정책을 선택하거나 아무것도 선택하지 않을 수 있습니다.  일시적인 데이터의 경우 '없음'을 선택할 수 있습니다. 예를 들어 Microsoft SQL Server의 경우 tempdb를 선택합니다. 


| 고급 옵션(NFS에만 해당) | 볼륨에 대한 NFS 버전을 선택합니다: NFSv3 또는 NFSv4. 


| 이니시에이터 그룹 및 IQN(iSCSI에만 해당) | iSCSI 스토리지 대상은 LUN(논리 단위)이라고 하며 호스트에 표준 블록 장치로 표시됩니다.  이니시에이터 그룹은 iSCSI 호스트 노드 이름 테이블이며, 어떤 이니시에이터가 어떤 LUN에 액세스할 수 있는지 제어합니다. iSCSI 대상은 표준 이더넷 네트워크 어댑터(NIC), 소프트웨어 이니시에이터가 있는 TCP 오프로드 엔진(TOE) 카드, 컨버지드 네트워크 어댑터(CNA) 또는 전용 호스트 버스 어댑터(HBA)를 통해 네트워크에 연결되며 iSCSI 정규화된 이름(IQN)으로 식별됩니다.  iSCSI 볼륨을 생성하면 콘솔이 자동으로 LUN을 생성합니다.  볼륨당 LUN을 하나만 만들어서 간편하게 관리할 수 있도록 했습니다.  볼륨을 생성한 후,link:task-connect-lun.html["IQN을 사용하여 호스트에서 LUN에 연결합니다."] . 
|===
+
다음 이미지는 볼륨 생성 마법사의 첫 번째 페이지를 보여줍니다.

+
image:screenshot_cot_vol.gif["스크린샷: Cloud Volumes ONTAP 인스턴스에 대해 작성된 볼륨 페이지를 보여줍니다."]

. *CIFS 설정*: CIFS 프로토콜을 선택한 경우 CIFS 서버를 설정합니다.
+
[cols="25,75"]
|===
| 필드 | 설명 


| DNS 기본 및 보조 IP 주소 | CIFS 서버에 대한 이름 확인을 제공하는 DNS 서버의 IP 주소입니다.  나열된 DNS 서버에는 CIFS 서버가 가입할 도메인의 Active Directory LDAP 서버와 도메인 컨트롤러를 찾는 데 필요한 서비스 위치 레코드(SRV)가 포함되어 있어야 합니다.  Google Managed Active Directory를 구성하는 경우 기본적으로 169.254.169.254 IP 주소를 사용하여 AD에 액세스할 수 있습니다. 


| 가입할 Active Directory 도메인 | CIFS 서버에 가입하려는 Active Directory(AD) 도메인의 FQDN입니다. 


| 도메인에 가입할 수 있는 권한이 있는 자격 증명 | AD 도메인 내의 지정된 조직 단위(OU)에 컴퓨터를 추가할 수 있는 권한이 있는 Windows 계정의 이름과 비밀번호입니다. 


| CIFS 서버 NetBIOS 이름 | AD 도메인에서 고유한 CIFS 서버 이름입니다. 


| 조직 단위 | CIFS 서버와 연결할 AD 도메인 내의 조직 단위입니다.  기본값은 CN=Computers입니다.  Cloud Volumes ONTAP 의 AD 서버로 Google Managed Microsoft AD를 구성하려면 이 필드에 *OU=Computers,OU=Cloud*를 입력합니다.https://cloud.google.com/managed-microsoft-ad/docs/manage-active-directory-objects#organizational_units["Google Cloud 문서: Google Managed Microsoft AD의 조직 단위"^] 


| DNS 도메인 | Cloud Volumes ONTAP 스토리지 가상 머신(SVM)의 DNS 도메인입니다.  대부분의 경우 도메인은 AD 도메인과 동일합니다. 


| NTP 서버 | Active Directory DNS를 사용하여 NTP 서버를 구성하려면 *Active Directory 도메인 사용*을 선택합니다.  다른 주소를 사용하여 NTP 서버를 구성해야 하는 경우 API를 사용해야 합니다.  자세한 내용은 다음을 참조하세요. https://docs.netapp.com/us-en/bluexp-automation/index.html["NetApp Console 자동화 문서"^] 자세한 내용은.  CIFS 서버를 생성할 때만 NTP 서버를 구성할 수 있습니다.  CIFS 서버를 만든 후에는 구성할 수 없습니다. 
|===
. *사용 프로필, 디스크 유형 및 계층화 정책*: 필요한 경우 스토리지 효율성 기능을 활성화할지 여부를 선택하고 볼륨 계층화 정책을 변경합니다.
+
자세한 내용은 다음을 참조하세요.link:task-planning-your-config-gcp.html#choose-a-volume-usage-profile["볼륨 사용 프로필을 선택하세요"^] ,link:concept-data-tiering.html["데이터 계층화 개요"^] , 그리고 https://kb.netapp.com/Cloud/Cloud_Volumes_ONTAP/What_Inline_Storage_Efficiency_features_are_supported_with_CVO#["KB: CVO에서는 어떤 인라인 스토리지 효율성 기능이 지원되나요?"^]

. *검토 및 승인*: 선택 사항을 검토하고 확인합니다.
+
.. 구성에 대한 세부 정보를 검토하세요.
.. *자세한 정보*를 클릭하면 콘솔에서 구매할 지원 및 Google Cloud 리소스에 대한 세부 정보를 검토할 수 있습니다.
.. *이해합니다...* 확인란을 선택하세요.
.. *이동*을 클릭하세요.




.결과
콘솔은 Cloud Volumes ONTAP 시스템을 배포합니다.  *감사* 페이지에서 진행 상황을 추적할 수 있습니다.

Cloud Volumes ONTAP 시스템 배포 중 문제가 발생하면 실패 메시지를 검토하세요.  시스템을 선택하고 *환경 다시 만들기*를 클릭할 수도 있습니다.

추가 도움말을 보려면 다음으로 이동하세요. https://mysupport.netapp.com/site/products/all/details/cloud-volumes-ontap/guideme-tab["NetApp Cloud Volumes ONTAP 지원"^] .


CAUTION: 배포 프로세스가 완료된 후에는 Google Cloud 포털에서 시스템 생성 Cloud Volumes ONTAP 구성, 특히 시스템 태그를 수정하지 마세요. 이러한 구성을 변경하면 예기치 않은 동작이나 데이터 손실이 발생할 수 있습니다.

.당신이 완료한 후
* CIFS 공유를 프로비저닝한 경우 사용자 또는 그룹에 파일과 폴더에 대한 권한을 부여하고 해당 사용자가 공유에 액세스하여 파일을 만들 수 있는지 확인합니다.
* 볼륨에 할당량을 적용하려면 ONTAP 시스템 관리자나 ONTAP CLI를 사용하세요.
+
할당량을 사용하면 사용자, 그룹 또는 Qtree에서 사용하는 디스크 공간과 파일 수를 제한하거나 추적할 수 있습니다.





== Google Cloud에서 HA 쌍 시작

Google Cloud에서 Cloud Volumes ONTAP 시작하기 위한 시스템을 콘솔에서 만듭니다.

.단계
. 왼쪽 탐색 메뉴에서 *저장소 > 관리*를 선택합니다.
. *시스템* 페이지에서 *저장소 > 시스템*을 클릭하고 화면의 지시를 따르세요.
. *위치 선택*: *Google Cloud*와 * Cloud Volumes ONTAP HA*를 선택합니다.
. *세부 정보 및 자격 증명*: 프로젝트를 선택하고, 클러스터 이름을 지정하고, 선택적으로 서비스 계정을 선택하고, 선택적으로 레이블을 추가한 다음 자격 증명을 지정합니다.
+
다음 표에서는 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="25,75"]
|===
| 필드 | 설명 


| 시스템 이름 | 콘솔은 시스템 이름을 사용하여 Cloud Volumes ONTAP 시스템과 Google Cloud VM 인스턴스의 이름을 지정합니다.  해당 옵션을 선택하면 사전 정의된 보안 그룹의 접두사로도 이름이 사용됩니다. 


| 서비스 계정 이름 | 사용할 계획이라면link:concept-data-tiering.html["NetApp Cloud Tiering"] 또는 https://docs.netapp.com/us-en/bluexp-backup-recovery/concept-backup-to-cloud.html["백업 및 복구"^] 서비스를 사용하려면 *서비스 계정* 스위치를 활성화한 다음 미리 정의된 스토리지 관리자 역할이 있는 서비스 계정을 선택해야 합니다. 


| 라벨 추가 | 라벨은 Google Cloud 리소스에 대한 메타데이터입니다.  콘솔은 Cloud Volumes ONTAP 시스템 및 해당 시스템과 연결된 Google Cloud 리소스에 레이블을 추가합니다.  시스템을 생성할 때 사용자 인터페이스에서 최대 4개의 라벨을 추가할 수 있으며, 시스템을 생성한 후에 라벨을 더 추가할 수 있습니다.  API는 시스템을 생성할 때 레이블을 4개로 제한하지 않습니다.  라벨에 대한 정보는 다음을 참조하세요. https://cloud.google.com/compute/docs/labeling-resources["Google Cloud 문서: 리소스 레이블 지정"^] . 


| 사용자 이름과 비밀번호 | 이는 Cloud Volumes ONTAP 클러스터 관리자 계정의 자격 증명입니다.  이러한 자격 증명을 사용하면 ONTAP System Manager나 ONTAP CLI를 통해 Cloud Volumes ONTAP 에 연결할 수 있습니다.  기본 _admin_ 사용자 이름을 유지하거나 사용자 지정 사용자 이름으로 변경하세요. 


| 프로젝트 편집  a| 
Cloud Volumes ONTAP 저장할 프로젝트를 선택하세요.  기본 프로젝트는 콘솔 프로젝트입니다.

드롭다운 목록에 추가 프로젝트가 보이지 않으면 아직 서비스 계정을 다른 프로젝트와 연결하지 않은 것입니다. Google Cloud 콘솔로 이동하여 IAM 서비스를 열고 프로젝트를 선택합니다.  콘솔에 사용하는 역할이 있는 서비스 계정을 해당 프로젝트에 추가합니다. 각 프로젝트마다 이 단계를 반복해야 합니다.


NOTE: 이는 콘솔에 대해 설정한 서비스 계정입니다.link:https://docs.netapp.com/us-en/bluexp-setup-admin/task-quick-start-connector-google.html["이 페이지에 설명된 대로"^] .

*구독 추가*를 클릭하여 선택한 자격 증명을 구독과 연결합니다.

사용량에 따라 요금을 지불하는 Cloud Volumes ONTAP 시스템을 만들려면 Google Cloud Marketplace에서 Cloud Volumes ONTAP 구독과 연결된 Google Cloud 프로젝트를 선택해야 합니다. 참조하다 https://docs.netapp.com/us-en/bluexp-setup-admin/task-adding-gcp-accounts.html["Google Cloud 자격 증명과 마켓플레이스 구독 연결"^] .

|===
. *서비스*: 이 시스템에서 사용할 서비스를 선택하세요.  백업 및 복구를 선택하거나 NetApp Cloud Tiering 사용하려면 3단계에서 서비스 계정을 지정해야 합니다.
+

TIP: WORM 및 데이터 계층화를 활용하려면 백업 및 복구를 비활성화하고 버전 9.8 이상의 Cloud Volumes ONTAP 시스템을 배포해야 합니다.

. *HA 배포 모델*: HA 구성을 위해 여러 개의 영역(권장) 또는 단일 영역을 선택합니다.  그런 다음 지역과 구역을 선택하세요.
+
link:concept-ha-google-cloud.html["HA 배포 모델에 대해 자세히 알아보세요"^] .

. *연결성*: HA 구성을 위해 4개의 다른 VPC를 선택하고, 각 VPC에 서브넷을 선택한 다음 방화벽 정책을 선택합니다.
+
link:reference-networking-gcp.html["네트워킹 요구 사항에 대해 자세히 알아보세요"^] .

+
다음 표에서는 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="25,75"]
|===
| 필드 | 설명 


| 생성된 정책  a| 
콘솔에서 방화벽 정책을 생성하도록 하는 경우 트래픽 허용 방법을 선택해야 합니다.

** *선택한 VPC만*을 선택하는 경우 인바운드 트래픽의 소스 필터는 선택한 VPC의 서브넷 범위와 콘솔 에이전트가 있는 VPC의 서브넷 범위입니다.  이것은 권장되는 옵션입니다.
** *모든 VPC*를 선택하는 경우 인바운드 트래픽의 소스 필터는 0.0.0.0/0 IP 범위입니다.




| 기존 사용 | 기존 방화벽 정책을 사용하는 경우 필요한 규칙이 포함되어 있는지 확인하세요. link:reference-networking-gcp.html#firewall-rules["Cloud Volumes ONTAP 의 방화벽 규칙에 대해 알아보세요"^] . 
|===
. *청구 방법 및 NSS 계정*: 이 시스템에서 사용할 청구 옵션을 지정한 다음 NetApp 지원 사이트 계정을 지정하세요.
+
** link:concept-licensing.html["Cloud Volumes ONTAP 에 대한 라이선싱 옵션에 대해 알아보세요"^] .
** link:task-set-up-licensing-google.html["라이선싱 설정 방법 알아보기"^] .


. *사전 구성된 패키지*: Cloud Volumes ONTAP 시스템을 빠르게 배포하려면 패키지 중 하나를 선택하거나 *내 구성 만들기*를 클릭하세요.
+
패키지 중 하나를 선택하는 경우 볼륨만 지정하고 구성을 검토하여 승인하기만 하면 됩니다.

. *라이선스*: 필요에 따라 Cloud Volumes ONTAP 버전을 변경하고 머신 유형을 선택합니다.
+

NOTE: 선택한 버전에 대해 최신 릴리스 후보, 일반 공급 또는 패치 릴리스가 제공되는 경우 콘솔은 버전을 생성할 때 시스템을 해당 버전으로 업데이트합니다.  예를 들어, Cloud Volumes ONTAP 9.13.1을 선택하고 9.13.1 P4를 사용할 수 있는 경우 업데이트가 발생합니다.  업데이트는 한 릴리스에서 다른 릴리스로 전달되지 않습니다(예: 9.13에서 9.14로 전달).

. *기본 스토리지 리소스*: 초기 집계에 대한 설정을 선택합니다. 디스크 유형과 각 디스크의 크기입니다.
+
디스크 유형은 초기 볼륨을 위한 것입니다.  이후 볼륨에는 다른 디스크 유형을 선택할 수 있습니다.

+
디스크 크기는 초기 집계의 모든 디스크와 간단한 프로비저닝 옵션을 사용할 때 콘솔이 생성하는 모든 추가 집계에 적용됩니다.  고급 할당 옵션을 사용하면 다른 디스크 크기를 사용하는 집계를 만들 수 있습니다.

+
디스크 유형 및 크기 선택에 대한 도움말은 다음을 참조하세요.link:task-planning-your-config-gcp.html#size-your-system-in-gcp["Google Cloud에서 시스템 크기 조정"^] .

. *플래시 캐시, 쓰기 속도 및 WORM*:
+
.. 원하는 경우 *플래시 캐시*를 활성화하세요.
+

NOTE: Cloud Volumes ONTAP 9.13.1부터 _Flash Cache_는 n2-standard-16, n2-standard-32, n2-standard-48 및 n2-standard-64 인스턴스 유형에서 지원됩니다.  배포 후에는 Flash Cache를 비활성화할 수 없습니다.

.. 원하는 경우 *보통* 또는 *높음* 쓰기 속도를 선택하세요.
+
link:concept-write-speed.html["쓰기 속도에 대해 자세히 알아보세요"^] .

+

NOTE: *높음* 쓰기 속도 옵션을 사용하면 n2-standard-16, n2-standard-32, n2-standard-48 및 n2-standard-64 인스턴스 유형에서 높은 쓰기 속도와 8,896바이트의 더 높은 최대 전송 단위(MTU)를 사용할 수 있습니다.  또한, 8,896의 더 높은 MTU는 배포를 위해 VPC-1, VPC-2, VPC-3을 선택해야 합니다.  높은 쓰기 속도와 8,896의 MTU는 기능에 따라 달라지며 구성된 인스턴스 내에서 개별적으로 비활성화할 수 없습니다.  VPC-1, VPC-2 및 VPC-3에 대한 자세한 내용은 다음을 참조하세요. https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/reference-networking-gcp.html#requirements-for-the-connector["VPC-1, VPC-2 및 VPC-3에 대한 규칙"^] .

.. 원하는 경우 WORM(한 번 쓰고 여러 번 읽기) 저장소를 활성화합니다.
+
Cloud Volumes ONTAP 버전 9.7 이하에서 데이터 계층화가 활성화된 경우 WORM을 활성화할 수 없습니다.  WORM 및 계층화를 활성화한 후에는 Cloud Volumes ONTAP 9.8로 되돌리거나 다운그레이드하는 것이 차단됩니다.

+
link:concept-worm.html["WORM 스토리지에 대해 자세히 알아보세요"^] .

.. WORM 저장소를 활성화하는 경우 보존 기간을 선택하세요.


. *Google Cloud의 데이터 계층화*: 초기 집계에서 데이터 계층화를 활성화할지 여부를 선택하고, 계층화된 데이터에 대한 스토리지 클래스를 선택한 다음, 사전 정의된 스토리지 관리자 역할이 있는 서비스 계정을 선택합니다.
+
다음 사항에 유의하세요.

+
** 콘솔은 Cloud Volumes ONTAP 인스턴스에 서비스 계정을 설정합니다. 이 서비스 계정은 Google Cloud Storage 버킷에 대한 데이터 계층화 권한을 제공합니다.  계층화 서비스 계정의 사용자로 콘솔 에이전트 서비스 계정을 반드시 추가해야 합니다. 그렇지 않으면 콘솔에서 해당 계정을 선택할 수 없습니다.
** 볼륨을 생성하거나 편집할 때 특정 볼륨 계층화 정책을 선택할 수 있습니다.
** 데이터 계층화를 비활성화하면 이후 집계에서 활성화할 수 있지만, 시스템을 끄고 Google Cloud 콘솔에서 서비스 계정을 추가해야 합니다.
+
link:concept-data-tiering.html["데이터 계층화에 대해 자세히 알아보세요"^] .



. *볼륨 만들기*: 새 볼륨에 대한 세부 정보를 입력하거나 *건너뛰기*를 클릭합니다.
+
link:concept-client-protocols.html["지원되는 클라이언트 프로토콜 및 버전에 대해 알아보세요"^] .

+
이 페이지의 일부 필드는 설명이 필요 없습니다.  다음 표에서는 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="25,75"]
|===
| 필드 | 설명 


| 크기 | 입력할 수 있는 최대 크기는 씬 프로비저닝을 활성화하는지 여부에 따라 크게 달라집니다. 씬 프로비저닝을 활성화하면 현재 사용 가능한 물리적 저장소보다 큰 볼륨을 만들 수 있습니다. 


| 액세스 제어(NFS에만 해당) | 내보내기 정책은 볼륨에 액세스할 수 있는 서브넷의 클라이언트를 정의합니다. 기본적으로 콘솔은 서브넷의 모든 인스턴스에 대한 액세스를 제공하는 값을 입력합니다. 


| 권한 및 사용자/그룹(CIFS에만 해당) | 이러한 필드를 사용하면 사용자 및 그룹의 공유 액세스 수준(액세스 제어 목록 또는 ACL이라고도 함)을 제어할 수 있습니다. 로컬 또는 도메인 Windows 사용자나 그룹, 또는 UNIX 사용자나 그룹을 지정할 수 있습니다. 도메인 Windows 사용자 이름을 지정하는 경우 domain\username 형식을 사용하여 사용자 도메인을 포함해야 합니다. 


| 스냅샷 정책 | 스냅샷 복사 정책은 NetApp 스냅샷 복사본이 자동으로 생성되는 빈도와 수를 지정합니다. NetApp 스냅샷 복사본은 성능에 영향을 미치지 않고 최소한의 저장 공간만 필요한 특정 시점의 파일 시스템 이미지입니다. 기본 정책을 선택하거나 아무것도 선택하지 않을 수 있습니다.  일시적인 데이터의 경우 '없음'을 선택할 수 있습니다. 예를 들어 Microsoft SQL Server의 경우 tempdb를 선택합니다. 


| 고급 옵션(NFS에만 해당) | 볼륨에 대한 NFS 버전을 선택합니다: NFSv3 또는 NFSv4. 


| 이니시에이터 그룹 및 IQN(iSCSI에만 해당) | iSCSI 스토리지 대상은 LUN(논리 단위)이라고 하며 호스트에 표준 블록 장치로 표시됩니다.  이니시에이터 그룹은 iSCSI 호스트 노드 이름 테이블이며, 어떤 이니시에이터가 어떤 LUN에 액세스할 수 있는지 제어합니다. iSCSI 대상은 표준 이더넷 네트워크 어댑터(NIC), 소프트웨어 이니시에이터가 있는 TCP 오프로드 엔진(TOE) 카드, 컨버지드 네트워크 어댑터(CNA) 또는 전용 호스트 버스 어댑터(HBA)를 통해 네트워크에 연결되며 iSCSI 정규화된 이름(IQN)으로 식별됩니다.  iSCSI 볼륨을 생성하면 콘솔이 자동으로 LUN을 생성합니다.  볼륨당 LUN을 하나만 만들어서 간편하게 관리할 수 있도록 했습니다.  볼륨을 생성한 후,link:task-connect-lun.html["IQN을 사용하여 호스트에서 LUN에 연결합니다."] . 
|===
+
다음 이미지는 볼륨 생성 마법사의 첫 번째 페이지를 보여줍니다.

+
image:screenshot_cot_vol.gif["스크린샷: Cloud Volumes ONTAP 인스턴스에 대해 작성된 볼륨 페이지를 보여줍니다."]

. *CIFS 설정*: CIFS 프로토콜을 선택한 경우 CIFS 서버를 설정합니다.
+
[cols="25,75"]
|===
| 필드 | 설명 


| DNS 기본 및 보조 IP 주소 | CIFS 서버에 대한 이름 확인을 제공하는 DNS 서버의 IP 주소입니다.  나열된 DNS 서버에는 CIFS 서버가 가입할 도메인의 Active Directory LDAP 서버와 도메인 컨트롤러를 찾는 데 필요한 서비스 위치 레코드(SRV)가 포함되어 있어야 합니다.  Google Managed Active Directory를 구성하는 경우 기본적으로 169.254.169.254 IP 주소를 사용하여 AD에 액세스할 수 있습니다. 


| 가입할 Active Directory 도메인 | CIFS 서버에 가입하려는 Active Directory(AD) 도메인의 FQDN입니다. 


| 도메인에 가입할 수 있는 권한이 있는 자격 증명 | AD 도메인 내의 지정된 조직 단위(OU)에 컴퓨터를 추가할 수 있는 권한이 있는 Windows 계정의 이름과 비밀번호입니다. 


| CIFS 서버 NetBIOS 이름 | AD 도메인에서 고유한 CIFS 서버 이름입니다. 


| 조직 단위 | CIFS 서버와 연결할 AD 도메인 내의 조직 단위입니다.  기본값은 CN=Computers입니다.  Cloud Volumes ONTAP 의 AD 서버로 Google Managed Microsoft AD를 구성하려면 이 필드에 *OU=Computers,OU=Cloud*를 입력합니다.https://cloud.google.com/managed-microsoft-ad/docs/manage-active-directory-objects#organizational_units["Google Cloud 문서: Google Managed Microsoft AD의 조직 단위"^] 


| DNS 도메인 | Cloud Volumes ONTAP 스토리지 가상 머신(SVM)의 DNS 도메인입니다.  대부분의 경우 도메인은 AD 도메인과 동일합니다. 


| NTP 서버 | Active Directory DNS를 사용하여 NTP 서버를 구성하려면 *Active Directory 도메인 사용*을 선택합니다.  다른 주소를 사용하여 NTP 서버를 구성해야 하는 경우 API를 사용해야 합니다. 를 참조하세요 https://docs.netapp.com/us-en/bluexp-automation/index.html["NetApp Console 자동화 문서"^] 자세한 내용은.  CIFS 서버를 생성할 때만 NTP 서버를 구성할 수 있습니다.  CIFS 서버를 만든 후에는 구성할 수 없습니다. 
|===
. *사용 프로필, 디스크 유형 및 계층화 정책*: 필요한 경우 스토리지 효율성 기능을 활성화할지 여부를 선택하고 볼륨 계층화 정책을 변경합니다.
+
자세한 내용은 다음을 참조하세요.link:task-planning-your-config-gcp.html#choose-a-volume-usage-profile["볼륨 사용 프로필을 선택하세요"^] ,link:concept-data-tiering.html["데이터 계층화 개요"^] , 그리고 https://kb.netapp.com/Cloud/Cloud_Volumes_ONTAP/What_Inline_Storage_Efficiency_features_are_supported_with_CVO#["KB: CVO에서는 어떤 인라인 스토리지 효율성 기능이 지원되나요?"^]

. *검토 및 승인*: 선택 사항을 검토하고 확인합니다.
+
.. 구성에 대한 세부 정보를 검토하세요.
.. *자세한 정보*를 클릭하면 콘솔에서 구매할 지원 및 Google Cloud 리소스에 대한 세부 정보를 검토할 수 있습니다.
.. *이해합니다...* 확인란을 선택하세요.
.. *이동*을 클릭하세요.




.결과
콘솔은 Cloud Volumes ONTAP 시스템을 배포합니다.  *감사* 페이지에서 진행 상황을 추적할 수 있습니다.

Cloud Volumes ONTAP 시스템 배포 중 문제가 발생하면 실패 메시지를 검토하세요.  시스템을 선택하고 *환경 다시 만들기*를 클릭할 수도 있습니다.

추가 도움말을 보려면 다음으로 이동하세요. https://mysupport.netapp.com/site/products/all/details/cloud-volumes-ontap/guideme-tab["NetApp Cloud Volumes ONTAP 지원"^] .

.당신이 완료한 후
* CIFS 공유를 프로비저닝한 경우 사용자 또는 그룹에 파일과 폴더에 대한 권한을 부여하고 해당 사용자가 공유에 액세스하여 파일을 만들 수 있는지 확인합니다.
* 볼륨에 할당량을 적용하려면 ONTAP 시스템 관리자나 ONTAP CLI를 사용하세요.
+
할당량을 사용하면 사용자, 그룹 또는 Qtree에서 사용하는 디스크 공간과 파일 수를 제한하거나 추적할 수 있습니다.




CAUTION: 배포 프로세스가 완료된 후에는 Google Cloud 포털에서 시스템 생성 Cloud Volumes ONTAP 구성, 특히 시스템 태그를 수정하지 마세요. 이러한 구성을 변경하면 예기치 않은 동작이나 데이터 손실이 발생할 수 있습니다.

.관련 링크
* link:task-planning-your-config-gcp.html["Google Cloud에서 Cloud Volumes ONTAP 구성 계획"]

