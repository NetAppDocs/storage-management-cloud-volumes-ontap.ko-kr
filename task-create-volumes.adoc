---
sidebar: sidebar 
permalink: task-create-volumes.html 
keywords: storage, provisioning, iscsi, nfs, cifs, volumes, create a volume, add a volume, create volumes, add volumes, creating a volume, adding a volume, provision volume, provision a volume, provisioning volumes, add volume to second node, add volume to node 2, cloud backup 
summary: 초기 Cloud Volumes ONTAP 시스템을 시작한 후 더 많은 스토리지가 필요한 경우 NetApp 콘솔에서 NFS, CIFS 또는 iSCSI에 대한 새로운 FlexVol 볼륨을 생성할 수 있습니다. 
---
= Cloud Volumes ONTAP 시스템에서 FlexVol volume 생성
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
초기 Cloud Volumes ONTAP 시스템을 시작한 후 더 많은 스토리지가 필요한 경우 NetApp 콘솔에서 NFS, CIFS 또는 iSCSI에 대한 새로운 FlexVol 볼륨을 생성할 수 있습니다.

새 볼륨을 생성하는 방법은 여러 가지가 있습니다.

* 새 볼륨에 대한 세부 정보를 지정하고 콘솔에서 기본 데이터 집계를 처리하도록 하세요.<<create-a-volume,자세히 알아보기>>
* 원하는 데이터 집계에 볼륨을 생성합니다.<<create-a-volume,자세히 알아보기>>
* HA 구성의 두 번째 노드에 볼륨을 생성합니다.<<create-volume-second-node,자세히 알아보기>>




== 시작하기 전에

볼륨 프로비저닝에 대한 몇 가지 참고 사항:

* iSCSI 볼륨을 생성하면 콘솔이 자동으로 LUN을 생성합니다.  볼륨당 LUN을 하나만 만들어서 간편하게 관리할 수 있도록 했습니다.  볼륨을 생성한 후,link:https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-connect-lun.html["IQN을 사용하여 호스트에서 LUN에 연결합니다."^] .
* ONTAP 시스템 관리자나 ONTAP CLI에서 추가 LUN을 생성할 수 있습니다.


ifdef::aws[]

* AWS에서 CIFS를 사용하려면 DNS와 Active Directory를 설정해야 합니다. 자세한 내용은 다음을 참조하세요.link:reference-networking-aws.html["AWS용 Cloud Volumes ONTAP 에 대한 네트워킹 요구 사항"] .
* Cloud Volumes ONTAP 구성이 Amazon EBS Elastic Volumes 기능을 지원하는 경우 다음을 수행할 수 있습니다.link:concept-aws-elastic-volumes.html["볼륨을 생성하면 어떤 일이 발생하는지 자세히 알아보세요."] .


endif::aws[]



== 볼륨을 생성합니다

볼륨을 생성하는 가장 일반적인 방법은 필요한 볼륨 유형을 지정한 다음 콘솔에서 디스크 할당을 처리하도록 하는 것입니다.  하지만 볼륨을 생성할 특정 집계를 선택할 수도 있습니다.

.단계
. 왼쪽 탐색 메뉴에서 *저장소 > 관리*를 선택합니다.
. *시스템* 페이지에서 FlexVol volume 프로비저닝하려는 Cloud Volumes ONTAP 시스템의 이름을 두 번 클릭합니다.
+
콘솔에서 디스크 할당을 처리하도록 하여 볼륨을 만들거나 볼륨에 대한 특정 집계를 선택할 수 있습니다.  Cloud Volumes ONTAP 시스템의 데이터 집계에 대해 잘 이해하고 있는 경우에만 특정 집계를 선택하는 것이 좋습니다.

+
[role="tabbed-block"]
====
.모든 집계
--
볼륨 탭을 선택하고 *볼륨 추가*를 클릭합니다.image:screenshot_add_volume_button.png["개요 탭 아래에 있는 볼륨 추가 버튼의 스크린샷입니다."]

--
.특정 집계
--
.. *집계* 탭에서 필요한 집계로 이동하여 클릭하십시오.image:icon-action.png[""] 상.
.. *볼륨 추가*를 선택하세요.image:screenshot_add_volume_button_agg.png["집계 탭 아래에 있는 볼륨 추가 버튼의 스크린샷입니다."]


--
====
. 마법사의 단계에 따라 볼륨을 생성합니다.
+
.. *세부 정보, 보호 및 태그*: 볼륨에 대한 기본 세부 정보를 입력하고 스냅샷 정책을 선택합니다.
+
이 페이지의 일부 필드는 설명이 필요 없습니다. 다음 목록은 지침이 필요할 수 있는 필드를 설명합니다.

+
[cols="2,6"]
|===
| 필드 | 설명 


| 볼륨 이름 | 새 볼륨에 입력할 수 있는 식별 가능한 이름입니다. 


| 볼륨 크기 | 입력할 수 있는 최대 크기는 씬 프로비저닝을 활성화하는지 여부에 따라 크게 달라집니다. 씬 프로비저닝을 활성화하면 현재 사용 가능한 물리적 저장소보다 큰 볼륨을 만들 수 있습니다. 


| 스토리지 VM(SVM) | 스토리지 VM은 ONTAP 내에서 실행되는 가상 머신으로, 클라이언트에게 스토리지 및 데이터 서비스를 제공합니다.  이것을 SVM이나 vserver라고 알고 있을 수도 있습니다.  Cloud Volumes ONTAP 은 기본적으로 하나의 스토리지 VM으로 구성되지만 일부 구성에서는 추가 스토리지 VM을 지원합니다.  새 볼륨에 대한 스토리지 VM을 지정할 수 있습니다. 


| 스냅샷 정책 | 스냅샷 복사 정책은 NetApp 스냅샷 복사본이 자동으로 생성되는 빈도와 수를 지정합니다. NetApp 스냅샷 복사본은 성능에 영향을 미치지 않고 최소한의 저장 공간만 필요한 특정 시점의 파일 시스템 이미지입니다. 기본 정책을 선택하거나 아무것도 선택하지 않을 수 있습니다.  일시적인 데이터의 경우 '없음'을 선택할 수 있습니다. 예를 들어 Microsoft SQL Server의 경우 tempdb를 선택합니다. 
|===
.. *프로토콜*: 볼륨에 대한 프로토콜(NFS, CIFS 또는 iSCSI)을 선택한 다음 필요한 정보를 제공합니다.
+
CIFS를 선택하고 서버가 설정되지 않은 경우, *다음*을 클릭하면 콘솔에서 CIFS 연결을 설정하라는 메시지가 표시됩니다.

+
link:concept-client-protocols.html["지원되는 클라이언트 프로토콜 및 버전에 대해 알아보세요"] .

+
다음 섹션에서는 지침이 필요할 수 있는 분야에 대해 설명합니다.  설명은 프로토콜별로 구성되어 있습니다.

+
[role="tabbed-block"]
====
.NFS
--
접근 제어:: 볼륨을 클라이언트에게 제공하기 위해 사용자 정의 내보내기 정책을 선택합니다.
수출 정책:: 볼륨에 액세스할 수 있는 서브넷의 클라이언트를 정의합니다. 기본적으로 콘솔은 서브넷의 모든 인스턴스에 대한 액세스를 제공하는 값을 입력합니다.


--
.CIFS
--
권한 및 사용자/그룹:: 사용자 및 그룹의 SMB 공유에 대한 액세스 수준을 제어할 수 있습니다(액세스 제어 목록 또는 ACL이라고도 함). 로컬 또는 도메인 Windows 사용자나 그룹, 또는 UNIX 사용자나 그룹을 지정할 수 있습니다.  도메인 Windows 사용자 이름을 지정하는 경우 domain\username 형식을 사용하여 사용자 도메인을 포함해야 합니다.
DNS 기본 및 보조 IP 주소:: CIFS 서버에 대한 이름 확인을 제공하는 DNS 서버의 IP 주소입니다.  나열된 DNS 서버에는 CIFS 서버가 가입할 도메인의 Active Directory LDAP 서버와 도메인 컨트롤러를 찾는 데 필요한 서비스 위치 레코드(SRV)가 포함되어 있어야 합니다.
+
--
ifdef::gcp[]

--


Google Managed Active Directory를 구성하는 경우 기본적으로 169.254.169.254 IP 주소를 사용하여 AD에 액세스할 수 있습니다.

endif::gcp[]

가입할 Active Directory 도메인:: CIFS 서버에 가입하려는 Active Directory(AD) 도메인의 FQDN입니다.
도메인에 가입할 수 있는 권한이 있는 자격 증명:: AD 도메인 내의 지정된 조직 단위(OU)에 컴퓨터를 추가할 수 있는 권한이 있는 Windows 계정의 이름과 비밀번호입니다.
CIFS 서버 NetBIOS 이름:: AD 도메인에서 고유한 CIFS 서버 이름입니다.
조직 단위:: CIFS 서버와 연결할 AD 도메인 내의 조직 단위입니다.  기본값은 CN=Computers입니다.


ifdef::aws[]

*** Cloud Volumes ONTAP 의 AD 서버로 AWS Managed Microsoft AD를 구성하려면 이 필드에 *OU=Computers,OU=corp*를 입력합니다.


endif::aws[]

ifdef::azure[]

*** Cloud Volumes ONTAP 의 AD 서버로 Azure AD Domain Services를 구성하려면 이 필드에 *OU=AADDC Computers* 또는 *OU=AADDC Users*를 입력합니다.https://docs.microsoft.com/en-us/azure/active-directory-domain-services/create-ou["Azure 설명서: Azure AD Domain Services 관리 도메인에서 OU(조직 단위) 만들기"^]


endif::azure[]

ifdef::gcp[]

*** Cloud Volumes ONTAP 의 AD 서버로 Google Managed Microsoft AD를 구성하려면 이 필드에 *OU=Computers,OU=Cloud*를 입력합니다.https://cloud.google.com/managed-microsoft-ad/docs/manage-active-directory-objects#organizational_units["Google Cloud 문서: Google Managed Microsoft AD의 조직 단위"^]


endif::gcp[]

DNS 도메인:: Cloud Volumes ONTAP 스토리지 가상 머신(SVM)의 DNS 도메인입니다.  대부분의 경우 도메인은 AD 도메인과 동일합니다.
NTP 서버:: Active Directory DNS를 사용하여 NTP 서버를 구성하려면 *Active Directory 도메인 사용*을 선택합니다.  다른 주소를 사용하여 NTP 서버를 구성해야 하는 경우 API를 사용해야 합니다.  자세한 내용은 다음을 참조하세요. https://docs.netapp.com/us-en/bluexp-automation/index.html["NetApp 콘솔 자동화 문서"^] .
+
--
CIFS 서버를 생성할 때만 NTP 서버를 구성할 수 있습니다.  CIFS 서버를 만든 후에는 구성할 수 없습니다.

--


--
.iSCSI
--
LUN:: iSCSI 스토리지 대상은 LUN(논리 단위)이라고 하며 호스트에 표준 블록 장치로 표시됩니다.  iSCSI 볼륨을 생성하면 콘솔이 자동으로 LUN을 생성합니다.  볼륨당 LUN을 하나만 만들어서 간편하게 관리할 수 있도록 했습니다.  볼륨을 생성한 후,link:task-connect-lun.html["IQN을 사용하여 호스트에서 LUN에 연결합니다."] .
개시자 그룹:: 이니시에이터 그룹(igroup)은 스토리지 시스템의 지정된 LUN에 액세스할 수 있는 호스트를 지정합니다.
호스트 개시자(IQN):: iSCSI 대상은 표준 이더넷 네트워크 어댑터(NIC), 소프트웨어 이니시에이터가 있는 TCP 오프로드 엔진(TOE) 카드, 컨버지드 네트워크 어댑터(CNA) 또는 전용 호스트 버스트 어댑터(HBA)를 통해 네트워크에 연결되며 iSCSI 정규 이름(IQN)으로 식별됩니다.


--
====
.. *디스크 유형*: 성능 요구 사항과 비용 요구 사항에 따라 볼륨의 기본 디스크 유형을 선택합니다.
+
ifdef::aws[]

+
*** link:https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-planning-your-config.html#size-your-system-in-aws["AWS에서 시스템 크기 조정"^]






endif::aws[]

ifdef::azure[]

* link:https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-planning-your-config-azure.html#size-your-system-in-azure["Azure에서 시스템 크기 조정"^]


endif::azure[]

ifdef::gcp[]

* link:https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-planning-your-config-gcp.html#size-your-system-in-gcp["Google Cloud에서 시스템 크기 조정"^]


endif::gcp[]

. *사용 프로필 및 계층화 정책*: 볼륨에서 스토리지 효율성 기능을 활성화할지 비활성화할지 선택한 다음 다음을 선택합니다.link:concept-data-tiering.html["볼륨 티어링 정책"] .
+
ONTAP 에는 필요한 총 저장 용량을 줄일 수 있는 여러 가지 저장 효율성 기능이 포함되어 있습니다.  NetApp 스토리지 효율성 기능은 다음과 같은 이점을 제공합니다.

+
씬 프로비저닝:: 실제 물리적 스토리지 풀에 있는 것보다 더 많은 논리적 스토리지를 호스트나 사용자에게 제공합니다.  저장 공간을 미리 할당하는 대신, 데이터가 기록됨에 따라 각 볼륨에 저장 공간이 동적으로 할당됩니다.
중복제거:: 동일한 데이터 블록을 찾아 단일 공유 블록에 대한 참조로 대체하여 효율성을 향상시킵니다.  이 기술은 동일한 볼륨에 있는 중복된 데이터 블록을 제거하여 저장 용량 요구 사항을 줄입니다.
압축:: 1차, 2차, 보관 저장소의 볼륨 내 데이터를 압축하여 데이터를 저장하는 데 필요한 물리적 용량을 줄입니다.


. *검토*: 볼륨에 대한 세부 정보를 검토한 후 *추가*를 클릭합니다.


.결과
콘솔은 Cloud Volumes ONTAP 시스템에 볼륨을 생성합니다.



== HA 구성의 두 번째 노드에 볼륨을 생성합니다.

기본적으로 콘솔은 HA 구성의 첫 번째 노드에 볼륨을 생성합니다.  두 노드 모두 클라이언트에 데이터를 제공하는 액티브-액티브 구성이 필요한 경우 두 번째 노드에서 집계와 볼륨을 만들어야 합니다.

.단계
. 왼쪽 탐색 메뉴에서 *저장소 > 관리*를 선택합니다.
. *시스템* 페이지에서 집계를 관리하려는 Cloud Volumes ONTAP 시스템의 이름을 두 번 클릭합니다.
. 집계 탭에서 *집계 추가*를 클릭하고 집계를 만듭니다.
+
image:screenshot_add_aggregate_cvo.png["집계 추가 진행 상황을 보여주는 스크린샷입니다."]

. 홈 노드의 경우 HA 쌍에서 두 번째 노드를 선택합니다.
. 콘솔에서 집계를 생성한 후, 해당 집계를 선택한 다음 *볼륨 생성*을 클릭합니다.
. 새 볼륨에 대한 세부 정보를 입력한 다음 *만들기*를 클릭합니다.


.결과
콘솔은 HA 쌍의 두 번째 노드에 볼륨을 생성합니다.

ifdef::aws[]


TIP: 여러 AWS 가용성 영역에 배포된 HA 쌍의 경우 볼륨이 있는 노드의 부동 IP 주소를 사용하여 볼륨을 클라이언트에 마운트해야 합니다.

endif::aws[]



== 볼륨을 생성한 후

CIFS 공유를 프로비저닝한 경우 사용자 또는 그룹에 파일과 폴더에 대한 권한을 부여하고 해당 사용자가 공유에 액세스하여 파일을 만들 수 있는지 확인합니다.

볼륨에 할당량을 적용하려면 ONTAP System Manager나 ONTAP CLI를 사용해야 합니다.  할당량을 사용하면 사용자, 그룹 또는 Qtree에서 사용하는 디스크 공간과 파일 수를 제한하거나 추적할 수 있습니다.
