---
sidebar: sidebar 
permalink: task-manage-volumes.html 
keywords: volumes, managing, cloning, editing, CIFS server, edit, flexclone, snapshot copy, restore, mount, delete, cifs setup, DNS, active directory, AD, domain, NetBIOS, identify, move, capacity, action required, clone, snapshot copies, restoring, vol move, volume move, move a volume, volume move slow, volume move performance 
summary: NetApp Console 사용하면 볼륨과 CIFS 서버를 관리할 수 있습니다.  또한 용량 문제를 방지하기 위해 볼륨을 이동하라는 메시지가 표시됩니다. 
---
= Cloud Volumes ONTAP 시스템에서 볼륨 관리
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Console 에서 볼륨과 CIFS 서버를 관리할 수 있습니다.  용량 문제를 피하기 위해 볼륨을 이동할 수도 있습니다.

NetApp Console 표준 보기에서 볼륨을 관리하거나 고급 볼륨 관리를 위해 콘솔에 포함된 ONTAP 시스템 관리자를 통해 볼륨을 관리할 수 있습니다.  표준 보기는 볼륨을 수정하기 위한 제한된 옵션 세트를 제공합니다.  System Manager는 복제, 크기 조정, 랜섬웨어 방지 설정 변경, 분석, 보호 및 활동 추적, 계층 간 볼륨 이동 등 고급 수준의 관리 기능을 제공합니다.  자세한 내용은 다음을 참조하세요.link:task-administer-advanced-view.html["System Manager를 사용하여 Cloud Volumes ONTAP 관리"] .



== 볼륨 관리

콘솔의 표준 보기를 사용하면 스토리지 요구 사항에 따라 볼륨을 관리할 수 있습니다.  볼륨을 보고, 편집하고, 복제하고, 복원하고, 삭제할 수 있습니다.

.단계
. 왼쪽 탐색 메뉴에서 *저장소 > 관리*를 선택합니다.
. *시스템* 페이지에서 볼륨을 관리할 Cloud Volumes ONTAP 시스템을 두 번 클릭합니다.
. *볼륨* 탭을 선택하세요.
+
image:screenshot_manage_vol_button.png["볼륨 탭 아래에 있는 볼륨 관리 버튼의 스크린샷입니다."]

. 필요한 볼륨 타일에서 *볼륨 관리*를 클릭합니다.
+
[cols="30,70"]
|===
| 일 | 행동 


| 볼륨에 대한 정보 보기 | 볼륨 관리 패널의 볼륨 작업에서 *볼륨 세부 정보 보기*를 클릭합니다. 


| NFS 마운트 명령 받기  a| 
.. 볼륨 관리 패널의 볼륨 작업에서 *마운트 명령*을 클릭합니다.
.. *복사*를 클릭하세요.




| 볼륨 복제  a| 
.. 볼륨 관리 패널의 볼륨 작업에서 *볼륨 복제*를 클릭합니다.
.. 필요에 따라 복제 이름을 수정한 다음 *복제*를 클릭합니다.


이 프로세스는 FlexClone 볼륨을 생성합니다.  FlexClone 볼륨은 메타데이터에 소량의 공간을 사용하고 데이터가 변경되거나 추가될 때만 추가 공간을 사용하기 때문에 공간 효율적인 쓰기 가능한 지정 시간 복사본입니다.

FlexClone 볼륨에 대해 자세히 알아보려면 다음을 참조하세요. http://docs.netapp.com/ontap-9/topic/com.netapp.doc.dot-cm-vsmg/home.html["ONTAP 9 논리 스토리지 관리 가이드"^] .



| 볼륨 편집(읽기-쓰기 볼륨만 해당)  a| 
.. 볼륨 관리 패널의 볼륨 작업에서 *볼륨 설정 편집*을 클릭합니다.
.. 볼륨의 스냅샷 정책, NFS 프로토콜 버전, NFS 액세스 제어 목록(내보내기 정책) 또는 공유 권한을 수정한 다음 *적용*을 클릭합니다.



NOTE: 사용자 정의 스냅샷 정책이 필요한 경우 ONTAP System Manager를 사용하여 만들 수 있습니다.



| 볼륨 삭제  a| 
.. 볼륨 관리 패널의 볼륨 작업에서 *볼륨 삭제*를 클릭합니다.
.. 볼륨 삭제 창에서 삭제하려는 볼륨의 이름을 입력합니다.
.. 다시 한번 *삭제*를 클릭하여 확인하세요.




| 필요에 따라 스냅샷 사본을 만듭니다.  a| 
.. 볼륨 관리 패널의 보호 작업에서 *스냅샷 복사본 만들기*를 클릭합니다.
.. 필요한 경우 이름을 변경한 다음 *만들기*를 클릭합니다.




| 스냅샷 복사본에서 새 볼륨으로 데이터 복원  a| 
.. 볼륨 관리 패널의 보호 작업에서 *스냅샷 복사본에서 복원*을 클릭합니다.
.. 스냅샷 복사본을 선택하고 새 볼륨의 이름을 입력한 다음 *복원*을 클릭합니다.




| 기본 디스크 유형 변경  a| 
.. 볼륨 관리 패널의 고급 작업에서 *디스크 유형 변경*을 클릭합니다.
.. 디스크 유형을 선택한 다음 *변경*을 클릭합니다.



NOTE: 콘솔은 선택한 디스크 유형을 사용하는 기존 집계로 볼륨을 이동하거나 볼륨에 대한 새 집계를 만듭니다.



| 티어링 정책 변경  a| 
.. 볼륨 관리 패널의 고급 작업에서 *계층화 정책 변경*을 클릭합니다.
.. 다른 정책을 선택하고 *변경*을 클릭하세요.



NOTE: 콘솔은 계층화를 통해 선택한 디스크 유형을 사용하는 기존 집계로 볼륨을 이동하거나 볼륨에 대한 새 집계를 만듭니다.



| 볼륨 삭제  a| 
.. 볼륨을 선택한 다음 *삭제*를 클릭합니다.
.. 대화 상자에 볼륨 이름을 입력합니다.
.. 다시 한번 *삭제*를 클릭하여 확인하세요.


|===




== 볼륨 크기 조정

기본적으로 볼륨은 공간이 부족하면 자동으로 최대 크기로 커집니다.  기본값은 1,000이며, 이는 볼륨이 원래 크기의 11배까지 커질 수 있음을 의미합니다.  이 값은 콘솔 에이전트 설정에서 구성할 수 있습니다.

볼륨 크기를 조정해야 하는 경우 콘솔의 ONTAP 시스템 관리자에서 조정할 수 있습니다.

.단계
. ONTAP 시스템 관리자를 통해 볼륨 크기를 조정하려면 시스템 관리자 보기를 클릭합니다. link:task-administer-advanced-view.html#how-to-get-started["시작하는 방법"] .
. 왼쪽 탐색 메뉴에서 *저장소 > 볼륨*을 선택합니다.
. 볼륨 목록에서 크기를 조절해야 하는 볼륨을 식별합니다.
. 옵션 아이콘을 클릭하세요image:screenshot_gallery_options.gif["카밥 아이콘"] .
. *크기 조정*을 선택하세요.
. *볼륨 크기 조정* 화면에서 필요에 따라 용량과 스냅샷 예약 비율을 편집합니다.  기존의 사용 가능한 공간과 수정된 용량을 비교할 수 있습니다.
. *저장*을 클릭하세요.


image:screenshot-resize-volume.png["볼륨 크기 조정 후 수정된 용량이 화면에 표시됩니다."]

볼륨 크기를 조정할 때는 시스템의 용량 제한을 고려해야 합니다.  로 가다 https://docs.netapp.com/us-en/cloud-volumes-ontap-relnotes/index.html["Cloud Volumes ONTAP 릴리스 노트"^] 자세한 내용은.



== CIFS 서버 수정

DNS 서버나 Active Directory 도메인을 변경하는 경우 Cloud Volumes ONTAP 의 CIFS 서버를 수정해야 클라이언트에 계속해서 스토리지를 제공할 수 있습니다.

.단계
. Cloud Volumes ONTAP 시스템의 *개요* 탭에서 오른쪽 패널 아래에 있는 *기능* 탭을 클릭합니다.
. CIFS 설정 필드에서 *연필 아이콘*을 클릭하여 CIFS 설정 창을 표시합니다.
. CIFS 서버에 대한 설정을 지정합니다.
+
[cols="30,70"]
|===
| 일 | 행동 


| 스토리지 VM(SVM) 선택 | Cloud Volume ONTAP 스토리지 가상 머신(SVM)을 선택하면 구성된 CIFS 정보가 표시됩니다. 


| 가입할 Active Directory 도메인 | CIFS 서버에 가입하려는 Active Directory(AD) 도메인의 FQDN입니다. 


| 도메인에 가입할 수 있는 권한이 있는 자격 증명 | AD 도메인 내의 지정된 조직 단위(OU)에 컴퓨터를 추가할 수 있는 권한이 있는 Windows 계정의 이름과 비밀번호입니다. 


| DNS 기본 및 보조 IP 주소 | CIFS 서버에 대한 이름 확인을 제공하는 DNS 서버의 IP 주소입니다.  나열된 DNS 서버에는 CIFS 서버가 가입할 도메인에 대한 Active Directory LDAP 서버와 도메인 컨트롤러를 찾는 데 필요한 SRV(서비스 위치 레코드)가 포함되어야 합니다. ifdef::gcp[] Google Managed Active Directory를 구성하는 경우 기본적으로 169.254.169.254 IP 주소를 사용하여 AD에 액세스할 수 있습니다. endif::gcp[] 


| DNS 도메인 | Cloud Volumes ONTAP 스토리지 가상 머신(SVM)의 DNS 도메인입니다.  대부분의 경우 도메인은 AD 도메인과 동일합니다. 


| CIFS 서버 NetBIOS 이름 | AD 도메인에서 고유한 CIFS 서버 이름입니다. 


| 조직 단위  a| 
CIFS 서버와 연결할 AD 도메인 내의 조직 단위입니다.  기본값은 CN=Computers입니다.

ifdef::aws[]

** Cloud Volumes ONTAP 의 AD 서버로 AWS Managed Microsoft AD를 구성하려면 이 필드에 *OU=Computers,OU=corp*를 입력합니다.


endif::aws[]

ifdef::azure[]

** Cloud Volumes ONTAP 의 AD 서버로 Azure AD Domain Services를 구성하려면 이 필드에 *OU=AADDC Computers* 또는 *OU=AADDC Users*를 입력합니다.link:https://docs.microsoft.com/en-us/azure/active-directory-domain-services/create-ou["Azure 설명서: Azure AD Domain Services 관리 도메인에서 OU(조직 단위) 만들기"^]


endif::azure[]

ifdef::gcp[]

** Cloud Volumes ONTAP 의 AD 서버로 Google Managed Microsoft AD를 구성하려면 이 필드에 *OU=Computers,OU=Cloud*를 입력합니다.link:https://cloud.google.com/managed-microsoft-ad/docs/manage-active-directory-objects#organizational_units["Google Cloud 문서: Google Managed Microsoft AD의 조직 단위"^]


endif::gcp[]

|===
. *설정*을 클릭하세요.


.결과
Cloud Volumes ONTAP CIFS 서버에 변경 사항을 업데이트합니다.



== 볼륨 이동

용량 활용도, 성능 향상, 서비스 수준 계약 충족을 위해 볼륨을 이동합니다.

ONTAP 시스템 관리자에서 볼륨과 대상 집계를 선택하고, 볼륨 이동 작업을 시작하고, 선택적으로 볼륨 이동 작업을 모니터링하여 볼륨을 이동할 수 있습니다.  시스템 관리자를 사용하면 볼륨 이동 작업이 자동으로 완료됩니다.

.단계
. ONTAP 시스템 관리자나 ONTAP CLI를 사용하여 볼륨을 집계로 이동합니다.
+
대부분의 경우 시스템 관리자를 사용하여 볼륨을 이동할 수 있습니다.

+
지침은 다음을 참조하세요.link:http://docs.netapp.com/ontap-9/topic/com.netapp.doc.exp-vol-move/home.html["ONTAP 9 볼륨 이동 익스프레스 가이드"^] .





== 콘솔에 작업 필요 메시지가 표시되면 볼륨을 이동합니다.

콘솔에 볼륨을 이동하면 용량 문제를 방지할 수 있지만, 문제를 직접 해결해야 한다는 내용의 '조치 필요' 메시지가 표시될 수 있습니다.  이런 일이 발생하면 문제를 해결하는 방법을 파악한 다음 하나 이상의 볼륨을 이동해야 합니다.


TIP: 집계된 용량이 90% 사용률에 도달하면 콘솔에 다음과 같은 조치 필요 메시지가 표시됩니다.  데이터 계층화가 활성화된 경우 집계가 사용 용량의 80%에 도달하면 메시지가 표시됩니다.  기본적으로 10%의 여유 공간이 데이터 계층화를 위해 예약되어 있습니다. link:task-tiering.html#changing-the-free-space-ratio-for-data-tiering["데이터 계층화를 위한 여유 공간 비율에 대해 자세히 알아보세요"^] .

.단계
. <<용량 문제를 해결하는 방법을 식별합니다.>> .
. 분석에 따라 용량 문제를 방지하기 위해 볼륨을 이동합니다.
+
** <<용량 문제를 피하기 위해 볼륨을 다른 시스템으로 이동합니다.>> .
** <<용량 문제를 방지하기 위해 볼륨을 다른 집계로 이동합니다.>> .






=== 용량 문제를 해결하는 방법을 식별합니다.

콘솔에서 용량 문제를 방지하기 위한 볼륨 이동에 대한 권장 사항을 제공할 수 없는 경우 이동해야 할 볼륨을 식별하고 동일한 시스템의 다른 집계로 이동해야 할지 아니면 다른 시스템으로 이동해야 할지 결정해야 합니다.

.단계
. 집계가 용량 한도에 도달한 것을 식별하려면 작업 필요 메시지의 고급 정보를 확인하세요.
+
예를 들어, 고급 정보에는 다음과 비슷한 내용이 나와 있어야 합니다. 집계 aggr1이 용량 한도에 도달했습니다.

. 집계에서 이동할 하나 이상의 볼륨을 식별합니다.
+
.. Cloud Volumes ONTAP 시스템에서 *집계 탭*을 클릭합니다.
.. 집계 타일에서 다음을 클릭합니다.image:icon-action.png[""] 아이콘을 클릭한 다음 *집계 세부 정보 보기*를 클릭하세요.
.. *집계 세부 정보* 화면의 *개요* 탭에서 각 볼륨의 크기를 검토하고 집계에서 이동할 볼륨을 하나 이상 선택합니다.
+
나중에 추가 용량 문제가 발생하지 않도록 전체적으로 여유 공간을 확보할 수 있을 만큼 큰 볼륨을 선택해야 합니다.

+
image::screenshot_aggr_volume_overview.png[스크린샷 어그르 볼륨 개요]



. 시스템이 디스크 한도에 도달하지 않은 경우 볼륨을 동일한 시스템의 기존 집계나 새 집계로 이동해야 합니다.
+
자세한 내용은 다음을 참조하세요.<<move-volumes-aggregate-capacity,용량 문제를 방지하기 위해 볼륨을 다른 집계로 이동합니다.>> .

. 시스템이 디스크 한도에 도달한 경우 다음 중 하나를 수행하세요.
+
.. 사용하지 않는 볼륨을 삭제합니다.
.. 집계된 공간을 확보하기 위해 볼륨을 재배열합니다.
+
자세한 내용은 다음을 참조하세요.<<move-volumes-aggregate-capacity,용량 문제를 방지하기 위해 볼륨을 다른 집계로 이동합니다.>> .

.. 두 개 이상의 볼륨을 공간이 있는 다른 시스템으로 이동합니다.
+
자세한 내용은 다음을 참조하세요.<<move-volumes-aggregate-capacity,용량 문제를 방지하기 위해 볼륨을 다른 집계로 이동합니다.>> .







=== 용량 문제를 피하기 위해 볼륨을 다른 시스템으로 이동합니다.

용량 문제를 방지하기 위해 하나 이상의 볼륨을 다른 Cloud Volumes ONTAP 시스템으로 이동할 수 있습니다.  시스템이 디스크 한도에 도달한 경우 이 작업이 필요할 수 있습니다.

.이 작업에 관하여
이 작업의 단계에 따라 다음과 같은 작업 필요 메시지를 수정할 수 있습니다.

[]
====
볼륨을 이동하는 것은 용량 문제를 방지하기 위해 필요합니다. 하지만 시스템이 디스크 한도에 도달했기 때문에 콘솔에서 이 작업을 수행할 수 없습니다.

====
.단계
. 사용 가능한 용량이 있는 Cloud Volumes ONTAP 시스템을 확인하거나 새로운 시스템을 배포합니다.
. 볼륨의 일회성 데이터 복제를 수행하려면 소스 시스템을 대상 시스템으로 끌어서 놓습니다.
+
자세한 내용은 다음을 참조하세요.link:https://docs.netapp.com/us-en/bluexp-replication/task-replicating-data.html["시스템 간 데이터 복제"^] .

. 복제 상태 페이지로 이동한 다음 SnapMirror 관계를 해제하여 복제된 볼륨을 데이터 보호 볼륨에서 읽기/쓰기 볼륨으로 변환합니다.
+
자세한 내용은 다음을 참조하세요.link:https://docs.netapp.com/us-en/bluexp-replication/task-replicating-data.html#managing-data-replication-schedules-and-relationships["데이터 복제 일정 및 관계 관리"^] .

. 데이터 액세스를 위한 볼륨을 구성합니다.
+
데이터 액세스를 위한 대상 볼륨 구성에 대한 정보는 다음을 참조하십시오.link:http://docs.netapp.com/ontap-9/topic/com.netapp.doc.exp-sm-ic-fr/home.html["ONTAP 9권 재해 복구 익스프레스 가이드"^] .

. 원본 볼륨을 삭제합니다.
+
자세한 내용은 다음을 참조하세요.link:task-manage-volumes.html#manage-volumes["볼륨 관리"] .





=== 용량 문제를 방지하기 위해 볼륨을 다른 집계로 이동합니다.

용량 문제를 방지하기 위해 하나 이상의 볼륨을 다른 집계로 이동할 수 있습니다.

.이 작업에 관하여
이 작업의 단계에 따라 다음과 같은 작업 필요 메시지를 수정할 수 있습니다.

[]
====
용량 문제를 방지하려면 두 개 이상의 볼륨을 이동하는 것이 필요합니다. 하지만 콘솔에서는 이 작업을 대신 수행할 수 없습니다.

====
.단계
. 이동해야 하는 볼륨에 대한 사용 가능한 용량이 기존 집계에 있는지 확인하세요.
+
.. Cloud Volumes ONTAP 시스템에서 *집계 탭*을 클릭합니다.
.. 필요한 집계 타일에서 다음을 클릭합니다.image:icon-action.png[""] 아이콘을 클릭한 다음 *집계 세부 정보 보기*를 클릭하면 사용 가능한 용량(프로비저닝된 크기에서 사용된 집계 용량을 뺀 값)을 볼 수 있습니다.
+
image::screenshot_aggr_capacity.png[스크린샷 공격 용량]



. 필요한 경우 기존 집계에 디스크를 추가합니다.
+
.. 집계를 선택한 다음 클릭하세요.image:icon-action.png[""] 아이콘 > *디스크 추가*.
.. 추가할 디스크 수를 선택한 다음 *추가*를 클릭합니다.


. 사용 가능한 용량이 있는 집계가 없으면 새 집계를 만듭니다.
+
자세한 내용은 다음을 참조하세요.link:task-create-aggregates.html["집계 생성"^] .

. ONTAP 시스템 관리자나 ONTAP CLI를 사용하여 볼륨을 집계로 이동합니다.
. 대부분의 경우 시스템 관리자를 사용하여 볼륨을 이동할 수 있습니다.
+
지침은 다음을 참조하세요.link:http://docs.netapp.com/ontap-9/topic/com.netapp.doc.exp-vol-move/home.html["ONTAP 9 볼륨 이동 익스프레스 가이드"^] .





== 볼륨 이동이 느리게 수행되는 이유

다음 조건 중 하나라도 Cloud Volumes ONTAP 에 해당하는 경우 볼륨을 이동하는 데 예상보다 시간이 더 오래 걸릴 수 있습니다.

* 볼륨은 복제본입니다.
* 볼륨은 클론의 부모입니다.
* 소스 또는 대상 집계에는 단일 처리량 최적화 HDD(st1) 디스크가 있습니다.
* 집계 중 하나는 객체에 대해 이전의 명명 체계를 사용합니다.  두 집계 모두 동일한 이름 형식을 사용해야 합니다.
+
9.4 릴리스 또는 이전 릴리스에서 집계에 대한 데이터 계층화가 활성화된 경우 이전 명명 체계가 사용됩니다.

* 소스 및 대상 집계의 암호화 설정이 일치하지 않거나 키 재지정이 진행 중입니다.
* 볼륨 이동 시 계층화 정책을 변경하기 위해 _-tiering-policy_ 옵션이 지정되었습니다.
* 볼륨 이동 시 _-generate-destination-key_ 옵션이 지정되었습니다.




== FlexGroup 볼륨 보기

ONTAP 시스템 관리자나 ONTAP CLI를 통해 생성된 FlexGroup 볼륨은 콘솔의 볼륨 탭을 통해 직접 볼 수 있습니다.  전용 *볼륨* 타일을 통해 FleGroup 볼륨에 대한 자세한 정보를 볼 수 있으며, 아이콘에 마우스를 올려 놓으면 각 FlexGroup 볼륨 그룹이 식별됩니다.  또한 볼륨 목록 보기에서 볼륨 스타일 열을 통해 FlexGroup 볼륨을 식별하고 정렬할 수 있습니다.

image::screenshot_show_flexgroup_vol.png[스크린샷은 flexgroup 볼륨을 보여줍니다]


NOTE: 현재는 콘솔에서만 기존 FlexGroup 볼륨을 볼 수 있습니다.  콘솔에서 FlexGroup 볼륨을 생성할 수 없습니다.
